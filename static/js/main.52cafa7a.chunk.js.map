{"version":3,"sources":["sounds/Beep-tone.mp3","sounds/beep-error.mp3","Components/Display/Display.js","bindings/keypads.js","Components/Keypad/Keypad.js","actions/asyncActions.js","actions/actions.js","actions/actionTypes.js","sounds/sounds.js","Containers/DepositBox/DepositBox.js","reducers/depositBoxReducer.js","reducers/index.js","index.js","store/configureStore.js"],"names":["module","exports","__webpack_require__","p","display","props","react_default","a","createElement","className","backlight","isLocked","message","keypads","keypad","items","map","el","ind","activeItem","key","concat","onClick","clickInput","handleServiceMode","userInput","serial","dispatch","type","setTimeout","handleValidationCheck","axios","get","then","response","data","sn","catch","error","console","log","playSound","val","Audio","play","beep","DepositBox","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","_submitTimer","_backlightTimer","handleDisplayBacklight","reset","handleBacklight","handleKeyPress","isBusy","isNaN","isTouched","resetKeyPress","service","clearTimeout","handleUserInput","handleLockFromUser","displayMsg","inherits","createClass","value","_this2","document","addEventListener","_this3","removeEventListener","_this4","lastKey","handleAutoSubmit","code","backlightOn","Display_Display","Keypad_Keypad","React","Component","connect","state","depositBox","serialNo","serviceMode","payload","actions","status","asyncActions","initialState","combineReducers","undefined","action","objectSpread","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","Containers_DepositBox_DepositBox","getElementById"],"mappings":"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","file":"static/js/main.52cafa7a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Beep-tone.2bc260fb.mp3\";","module.exports = __webpack_public_path__ + \"static/media/beep-error.c9d839e1.mp3\";","import React from \"react\";\nimport \"./Display.scss\";\n\n/*\ndisplay component, gets all props from parent, handling display\ninformation\n*/\nconst display = props => {\n  return (\n    <div\n      className={\n        props.backlight ? \"panel__display\" : \"panel__display panel__display_off\"\n      }\n    >\n      <span>{props.isLocked ? \"Locked\" : \"Unlocked\"}</span>\n      <p>{props.message}</p>\n    </div>\n  );\n};\n\nexport default display;\n","export const keypads = [\n  \"7\",\n  \"8\",\n  \"9\",\n  \"4\",\n  \"5\",\n  \"6\",\n  \"1\",\n  \"2\",\n  \"3\",\n  \"*\",\n  \"0\",\n  \"L\"\n];\n","import React from \"react\";\nimport { keypads } from \"../../bindings/keypads\";\nimport \"./Keypad.scss\";\n/*\nKeypad component, gets all props from parent, gets active item\nfrom props for animation of buttons\n*/\nconst keypad = props => {\n  const items = keypads.map((el, ind) => {\n    return (\n      <div\n        className={\n          props.activeItem === el\n            ? \"panel__keypads__item panel__keypads__item_active\"\n            : \"panel__keypads__item\"\n        }\n        key={`${el}-${ind}`}\n        onClick={() => props.clickInput(el)}\n      >\n        {el}\n      </div>\n    );\n  });\n  return <div className=\"panel__keypads\">{items}</div>;\n};\n\nexport default keypad;\n","import * as actions from \"./actions\";\nimport axios from \"axios\";\n\n// async actions\n\n// autosubmit async for handling service mode, unlocking and error\nexport const handleAutoSubmit = (\n  code,\n  userInput,\n  status,\n  isBusy,\n  service,\n  serial\n) => {\n  return dispatch => {\n    if (userInput === \"000000\" && status) {\n      return dispatch(actions.handleService());\n    }\n    if (service) {\n      return dispatch(handleServiceMode(userInput, serial));\n    }\n    if (code === userInput && status) {\n      dispatch(actions.handleUnlocking());\n      setTimeout(() => {\n        dispatch(actions.handleUnlock());\n      }, 3000);\n    } else if (!isBusy) {\n      dispatch(actions.handleError());\n      setTimeout(() => {\n        dispatch(actions.reset());\n      }, 1200);\n    }\n  };\n};\n\n/*\nhandle locking when user inputs L button, checking length of input, if device\nis locked, dispatching lock or error to reducer\n*/\n\nexport const handleLockFromUser = (userInput, status) => {\n  return dispatch => {\n    if (userInput.length !== 6 || status) {\n      dispatch(actions.handleError());\n      setTimeout(() => {\n        dispatch(actions.reset());\n      }, 1200);\n    } else if (userInput.length === 6 && !status) {\n      dispatch(actions.handleLocking(userInput));\n      setTimeout(() => {\n        dispatch(actions.handleLock());\n      }, 3000);\n    }\n  };\n};\n\n/*\nif device is in service mode, autosubmit calls this function with user input and\nserial as arguments for handling validation\n*/\nconst handleServiceMode = (userInput, serial) => {\n  return dispatch => {\n    dispatch(actions.handleValidating());\n    setTimeout(() => {\n      dispatch(handleValidationCheck(userInput, serial));\n    }, 3000);\n  };\n};\n\n/*\nhandling api call to provided endpoint, checking if response matches the serial\nno. from device, dispatch unlocking or error\n*/\nconst handleValidationCheck = (userInput, serial) => {\n  return dispatch => {\n    axios\n      .get(\n        `https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?c\n      ode=${userInput}`\n      )\n      .then(response => {\n        if (response.data.sn === serial) {\n          dispatch(actions.handleUnlocking());\n          setTimeout(() => {\n            dispatch(actions.handleUnlock());\n          }, 3000);\n        } else {\n          dispatch(actions.handleError());\n          setTimeout(() => {\n            dispatch(actions.reset());\n          }, 1200);\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n};\n\n// clearing last value enetered from keypad, for styling keypad btns\nexport const resetKeyPress = () => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(actions.resetKey());\n    }, 200);\n  };\n};\n","import * as actionTypes from \"./actionTypes\";\n\n// actions for reducer\n\nexport const handleUserInput = value => {\n  return {\n    type: actionTypes.HANDLE_INPUT,\n    payload: value\n  };\n};\n\nexport const reset = () => {\n  return {\n    type: actionTypes.RESET\n  };\n};\n\nexport const handleLock = () => {\n  return {\n    type: actionTypes.HANDLE_LOCK\n  };\n};\n\nexport const handleUnlock = () => {\n  return {\n    type: actionTypes.HANDLE_UNLOCK\n  };\n};\n\nexport const handleError = () => {\n  return {\n    type: actionTypes.ERROR\n  };\n};\n\nexport const handleLocking = code => {\n  return {\n    type: actionTypes.LOCKING,\n    payload: code\n  };\n};\n\nexport const handleUnlocking = () => {\n  return {\n    type: actionTypes.UNLOCKING\n  };\n};\n\nexport const handleService = () => {\n  return {\n    type: actionTypes.SERVICE\n  };\n};\n\nexport const handleValidating = () => {\n  return {\n    type: actionTypes.VALIDATING\n  };\n};\n\nexport const handleBacklight = () => {\n  return {\n    type: actionTypes.BACKLIGHT_OFF\n  };\n};\nexport const resetKey = () => {\n  return {\n    type: actionTypes.RESET_KEY\n  };\n};\n","// action type constants\n\nexport const HANDLE_INPUT = \"HANDLE_INPUT\";\nexport const HANDLE_LOCK = \"HANDLE_LOCK\";\nexport const HANDLE_UNLOCK = \"HANDLE_UNLOCK\";\n\nexport const RESET = \"RESET\";\nexport const ERROR = \"ERROR\";\nexport const LOCKING = \"LOCKING\";\nexport const UNLOCKING = \"UNLOCKING\";\nexport const SERVICE = \"SERVICE\";\nexport const VALIDATING = \"VALIDATING\";\nexport const BACKLIGHT_OFF = \"BACKLIGHT_OFF\";\nexport const RESET_KEY = \"RESET_KEY\";\n","import beep from \"./Beep-tone.mp3\";\nimport error from \"./beep-error.mp3\";\n\n// sound func for playing sound effects\nexport const playSound = val => {\n  let sound;\n  if (val === \"error\") {\n    sound = new Audio(error);\n    return sound.play();\n  }\n  sound = new Audio(beep);\n  return sound.play();\n};\n","import React from \"react\";\nimport \"./DepositBox.scss\";\nimport Display from \"../../Components/Display/Display\";\nimport Keypad from \"../../Components/Keypad/Keypad\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/actions\";\nimport * as asyncActions from \"../../actions/asyncActions\";\nimport { playSound } from \"../../sounds/sounds\";\n\n/*\nmain container, recieving props and state from redux, sending props to children\n*/\nexport class DepositBox extends React.Component {\n  // local timers\n  _submitTimer = null;\n  _backlightTimer = null;\n  //\n  componentDidMount() {\n    document.addEventListener(\"keydown\", el => this.handleKeyPress(el.key));\n    this.handleDisplayBacklight();\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", el => this.handleKeyPress(el.key));\n  }\n  /*\n  checking the state after update, if error emmits error sound, if device\n  is touched and there is no change in 1.2s dispatching autosubmit to action\n  creator for handling further condition\n  */\n  componentDidUpdate() {\n    if (this.props.displayMsg === \"Error\") {\n      playSound(\"error\");\n    }\n    if (this.props.isTouched && !this.props.lastKey) {\n      this._submitTimer = setTimeout(() => {\n        this.props.handleAutoSubmit(\n          this.props.code,\n          this.props.displayMsg,\n          this.props.isLocked,\n          this.props.isBusy,\n          this.props.service,\n          this.props.serial\n        );\n      }, 1200);\n    }\n    clearTimeout(this._backlightTimer);\n    if (this.props.backlightOn && !this.props.service) {\n      this.handleDisplayBacklight();\n    }\n  }\n\n  // function for dimming the display after 5 secs of inactivity\n  handleDisplayBacklight = () => {\n    this._backlightTimer = setTimeout(() => {\n      this.props.reset();\n      this.props.handleBacklight();\n    }, 5000);\n  };\n\n  /*\n  handling input coming from both keyboad and click events, catching\n  only valid inputs and processing futher\n  */\n  handleKeyPress = el => {\n    if (\n      this.props.isBusy ||\n      el === \" \" ||\n      (el !== \"l\" && el !== \"L\" && el !== \"*\" && isNaN(el))\n    ) {\n      return null;\n    }\n    if (!this.props.isTouched) {\n      this.props.reset();\n    }\n    this.props.resetKeyPress();\n    playSound();\n    if (this.props.service) {\n      clearTimeout(this._submitTimer);\n      return this.props.handleUserInput(el);\n    }\n    if (el === \"l\" || el === \"L\") {\n      return this.props.handleLockFromUser(\n        this.props.displayMsg,\n        this.props.isLocked\n      );\n    }\n    if (el === \"*\") return null;\n    clearTimeout(this._submitTimer);\n    clearTimeout(this._backlightTimer);\n    return this.props.handleUserInput(el);\n  };\n\n  render() {\n    return (\n      <div className=\"panel\">\n        <Display\n          isLocked={this.props.isLocked}\n          message={this.props.displayMsg}\n          backlight={this.props.backlightOn}\n        />\n        <Keypad\n          clickInput={this.handleKeyPress}\n          activeItem={this.props.lastKey}\n        />\n        <div className=\"panel__serial\">S/N: {this.props.serial}</div>\n      </div>\n    );\n  }\n}\n// connect redux state\nconst mapStateToProps = state => {\n  return {\n    isLocked: state.depositBox.isLocked,\n    displayMsg: state.depositBox.displayMsg,\n    isTouched: state.depositBox.isTouched,\n    isBusy: state.depositBox.isBusy,\n    backlightOn: state.depositBox.backlightOn,\n    code: state.depositBox.code,\n    serial: state.depositBox.serialNo,\n    service: state.depositBox.serviceMode,\n    lastKey: state.depositBox.key\n  };\n};\n//\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleUserInput: value => dispatch(actions.handleUserInput(value)),\n    reset: () => dispatch(actions.reset()),\n    handleBacklight: () => dispatch(actions.handleBacklight()),\n    handleLockFromUser: (userInput, status) =>\n      dispatch(asyncActions.handleLockFromUser(userInput, status)),\n    resetKeyPress: () => dispatch(asyncActions.resetKeyPress()),\n    handleAutoSubmit: (code, userInput, status, isBusy, service, serial) =>\n      dispatch(\n        asyncActions.handleAutoSubmit(\n          code,\n          userInput,\n          status,\n          isBusy,\n          service,\n          serial\n        )\n      )\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DepositBox);\n","import * as actionTypes from \"../actions/actionTypes\";\n\n// main reducer, initial state\n\nconst initialState = {\n  isLocked: false,\n  isTouched: false,\n  isBusy: false,\n  backlightOn: true,\n  code: null,\n  serviceMode: false,\n  serialNo: 4815162342,\n  displayMsg: \"Ready\",\n  key: null\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.HANDLE_INPUT:\n      return {\n        ...state,\n        isTouched: true,\n        backlightOn: true,\n        displayMsg: state.displayMsg + action.payload,\n        key: action.payload\n      };\n    case actionTypes.HANDLE_LOCK:\n      return {\n        ...state,\n        isLocked: true,\n        isBusy: false,\n        serviceMode: false,\n        displayMsg: \"\"\n      };\n    case actionTypes.HANDLE_UNLOCK:\n      return {\n        ...state,\n        isLocked: false,\n        isBusy: false,\n        serviceMode: false,\n        displayMsg: \"Ready\"\n      };\n    case actionTypes.RESET:\n      return {\n        ...state,\n        isTouched: false,\n        isBusy: false,\n        displayMsg: \"\"\n      };\n    case actionTypes.ERROR:\n      return {\n        ...state,\n        displayMsg: \"Error\",\n        isBusy: true,\n        serviceMode: false,\n        isTouched: false\n      };\n    case actionTypes.LOCKING:\n      return {\n        ...state,\n        displayMsg: \"Locking...\",\n        code: action.payload,\n        isTouched: false,\n        isBusy: true\n      };\n    case actionTypes.UNLOCKING:\n      return {\n        ...state,\n        displayMsg: \"Unlocking...\",\n        code: null,\n        isTouched: false,\n        isBusy: true\n      };\n    case actionTypes.SERVICE:\n      return {\n        ...state,\n        displayMsg: \"Service\",\n        serviceMode: true,\n        isTouched: false\n      };\n    case actionTypes.VALIDATING:\n      return {\n        ...state,\n        displayMsg: \"Validating...\",\n        isTouched: false,\n        isBusy: true\n      };\n    case actionTypes.BACKLIGHT_OFF:\n      return {\n        ...state,\n        backlightOn: false,\n        isTouched: false,\n        displayMsg: \"Ready\"\n      };\n    case actionTypes.RESET_KEY:\n      return {\n        ...state,\n        key: null\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport depositBoxReducer from \"./depositBoxReducer\";\n\nexport default combineReducers({\n  depositBox: depositBoxReducer\n});\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport DepositBox from \"./Containers/DepositBox/DepositBox\";\nimport { Provider } from \"react-redux\";\nimport configureStore from \"./store/configureStore\";\n\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <DepositBox />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"../reducers\";\n\n// store config\n\nexport default function configureStore() {\n  return createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n}\n"],"sourceRoot":""}